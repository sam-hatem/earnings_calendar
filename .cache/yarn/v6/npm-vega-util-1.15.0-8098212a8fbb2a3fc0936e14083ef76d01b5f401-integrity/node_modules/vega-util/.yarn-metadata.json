{
  "manifest": {
    "name": "vega-util",
    "version": "1.15.0",
    "description": "JavaScript utilities for Vega.",
    "keywords": [
      "vega",
      "utilities"
    ],
    "license": "BSD-3-Clause",
    "author": {
      "name": "Jeffrey Heer",
      "url": "http://idl.cs.washington.edu"
    },
    "main": "build/vega-util.js",
    "module": "index",
    "types": "index.d.ts",
    "repository": {
      "type": "git",
      "url": "https://github.com/vega/vega.git"
    },
    "scripts": {
      "rollup": "rollup -f umd -n vega -o build/vega-util.js -- index.js",
      "prebuild": "rimraf build && mkdir build",
      "build": "yarn rollup",
      "postbuild": "terser build/vega-util.js -c -m -o build/vega-util.min.js",
      "pretest": "yarn prebuild && yarn rollup",
      "test": "tape 'test/**/*-test.js'",
      "prepublishOnly": "yarn test && yarn build",
      "postpublish": "git push && git push --tags"
    },
    "gitHead": "28db83352e43e321dfe55fc5cb6489b211e45662",
    "_registry": "npm",
    "_loc": "/home/jovyan/.cache/yarn/v6/npm-vega-util-1.15.0-8098212a8fbb2a3fc0936e14083ef76d01b5f401-integrity/node_modules/vega-util/package.json",
    "readmeFilename": "README.md",
    "readme": "# vega-util\n\nJavaScript utilities for Vega. Provides a set of helper methods used throughout Vega modules, including function generators, type checkers, log messages, and additional utilities for Object, Array and String values.\n\n## API Reference\n\n- [Functions](#functions)\n- [Type Checkers](#type-checkers)\n- [Type Coercion](#type-coercion)\n- [Objects](#objects)\n- [Arrays](#arrays)\n- [Dates](#dates)\n- [Logging](#logging)\n- [Errors](#errors)\n\n### Functions\n\nFunctions and function generators for accessing and comparing values.\n\n<a name=\"accessor\" href=\"#accessor\">#</a>\nvega.<b>accessor</b>(<i>function</i>[, <i>fields</i>, <i>name</i>])\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/accessor.js \"Source\")\n\nAnnotates a *function* instance with a string array of dependent data *fields* and a string *name*, and returns the input *function*. Assumes the input function takes an object (data tuple) as input, and that strings in the *fields* array correspond to object properties accessed by the function. Once annotated, Vega dataflows can track data field dependencies and generate appropriate output names (e.g., when computing aggregations) if the function is used as an accessor.\n\nInternally, this method assigns the field array to the `fields` property of the input *function*, and the name to the `fname` property. To be future-proof, clients should not access these properties directly. Instead, use the [accessorFields](#accessorFields) and [accessorName](#accessorName) methods.\n\n<a name=\"accessorFields\" href=\"#accessorFields\">#</a>\nvega.<b>accessorFields</b>(<i>accessor</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/accessor.js \"Source\")\n\nReturns the array of dependent field names for a given *accessor* function. Returns null if no field names have been set.\n\n<a name=\"accessorName\" href=\"#accessorName\">#</a>\nvega.<b>accessorName</b>(<i>accessor</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/accessor.js \"Source\")\n\nReturns the name string for a given *accessor* function. Returns null if no name has been set.\n\n<a name=\"ascending\" href=\"#ascending\">#</a>\nvega.<b>ascending</b>(<i>a</i>, <i>b</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/compare.js \"Source\")\n\nA comparator function for sorting primitive and Date values in ascending order.\n\n<a name=\"compare\" href=\"#compare\">#</a>\nvega.<b>compare</b>(<i>fields</i>[, <i>orders</i>])\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/compare.js \"Source\")\n\nGenerates a comparator function for sorting data values, based on the given set of *fields* and optional sort *orders*. The *fields* argument must be either a string, an accessor function, or an array of either. Strings indicate the name of object properties to sort by, in precedence order. Field strings may include nested properties (e.g., `foo.bar.baz`). The *orders* argument must be either a string or an array of strings; the valid string values are `'ascending'` (for ascending sort order of the corresponding field) or `'descending'` (for descending sort order of the corresponding field). If the *orders* argument is omitted, is shorter than the *fields* array, or includes values other than  `'ascending'` or `'descending'`, corresponding fields will default to ascending order.\n\n<a name=\"constant\" href=\"#constant\">#</a>\nvega.<b>constant</b>(<i>value</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/constant.js \"Source\")\n\nGiven an input *value*, returns a function that simply returns that value. If the input *value* is itself a function, that function is returned directly.\n\n<a name=\"debounce\" href=\"#debounce\">#</a>\nvega.<b>debounce</b>(<i>delay</i>, <i>func</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/debounce.js \"Source\")\n\nGenerates a \"debounced\" function that delays invoking *func* until after *delay* milliseconds have elapsed since the last time the debounced function was invoked. Invocation passes up to one argument from the debounced function to *func* and does not preserve the *this* context.\n\n<a name=\"field\" href=\"#field\">#</a>\nvega.<b>field</b>(<i>field</i>[, <i>name</i>])\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/field.js \"Source\")\n\nGenerates an accessor function for retrieving the specified *field* value. The input *field* string may include nested properties (e.g., `foo.bar.baz`). An optional *name* argument indicates the accessor name for the generated function; if excluded the field string will be used as the name (see the [accessor](#accessor) method for more details).\n\n```js\nvar fooField = vega.field('foo');\nfooField({foo: 5}); // 5\nvega.accessorName(fooField); // 'foo'\nvega.accessorFields(fooField); // ['foo']\n\nvar pathField = vega.field('foo.bar', 'path');\npathField({foo: {bar: 'vega'}}); // 'vega'\npathField({foo: 5}); // undefined\nvega.accessorName(pathField); // 'path'\nvega.accessorFields(pathField); // ['foo.bar']\n```\n\n<a name=\"id\" href=\"#id\">#</a>\nvega.<b>id</b>(<i>object</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/accessors.js \"Source\")\n\nAn accessor function that returns the value of the `id` property of an input *object*.\n\n<a name=\"identity\" href=\"#identity\">#</a>\nvega.<b>identity</b>(<i>value</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/accessors.js \"Source\")\n\nAn accessor function that simply returns its *value* argument.\n\n<a name=\"key\" href=\"#key\">#</a>\nvega.<b>key</b>(<i>fields</i>[, <i>flat</i>])\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/key.js \"Source\")\n\nGenerates an accessor function that returns a key string (suitable for using as an object property name) for a set of object *fields*. The *fields* argument must be either a string or string array, with each entry indicating a property of an input object to be used to produce representative key values. The resulting key function is an [accessor](#accessor) instance with the accessor name `'key'`. The optional *flat* argument is a boolean flag indicating if the field names should be treated as flat property names, side-stepping nested field lookups normally indicated by dot or bracket notation. By default, *flat* is `false` and nested property lookup is performed.\n\n```js\nvar keyf = vega.key(['foo', 'bar']);\nkeyf({foo:'hi', bar:5}); // 'hi|5'\nvega.accessorName(keyf); // 'key'\nvega.accessorFields(keyf); // ['foo', 'bar']\n```\n\n<a name=\"one\" href=\"#one\">#</a>\nvega.<b>one</b>()\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/accessors.js \"Source\")\n\nAn accessor function that simply returns the value one (`1`).\n\n<a name=\"zero\" href=\"#zero\">#</a>\nvega.<b>zero</b>()\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/accessors.js \"Source\")\n\nAn accessor function that simply returns the value zero (`0`).\n\n<a name=\"truthy\" href=\"#truthy\">#</a>\nvega.<b>truthy</b>()\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/accessors.js \"Source\")\n\nAn accessor function that simply returns the boolean `true` value.\n\n<a name=\"falsy\" href=\"#falsy\">#</a>\nvega.<b>falsy</b>()\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/accessors.js \"Source\")\n\nAn accessor function that simply returns the boolean `false` value.\n\n### Type Checkers\n\nFunctions for checking the type of JavaScript values.\n\n<a name=\"isArray\" href=\"#isArray\">#</a>\nvega.<b>isArray</b>(<i>value</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/isArray.js \"Source\")\n\nReturns `true` if the input *value* is an Array instance, `false` otherwise.\n\n<a name=\"isBoolean\" href=\"#isBoolean\">#</a>\nvega.<b>isBoolean</b>(<i>value</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/isBoolean.js \"Source\")\n\nReturns `true` if the input *value* is a Boolean instance, `false` otherwise.\n\n<a name=\"isDate\" href=\"#isDate\">#</a>\nvega.<b>isDate</b>(<i>value</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/isDate.js \"Source\")\n\nReturns `true` if the input *value* is a Date instance, `false` otherwise.\n\n<a name=\"isFunction\" href=\"#isFunction\">#</a>\nvega.<b>isFunction</b>(<i>value</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/isFunction.js \"Source\")\n\nReturns `true` if the input *value* is a Function instance, `false` otherwise.\n\n<a name=\"isNumber\" href=\"#isNumber\">#</a>\nvega.<b>isNumber</b>(<i>value</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/isNumber.js \"Source\")\n\nReturns `true` if the input *value* is a Number instance, `false` otherwise.\n\n<a name=\"isObject\" href=\"#isObject\">#</a>\nvega.<b>isObject</b>(<i>value</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/isObject.js \"Source\")\n\nReturns `true` if the input *value* is an Object instance, `false` otherwise.\n\n<a name=\"isRegExp\" href=\"#isRegExp\">#</a>\nvega.<b>isRegExp</b>(<i>value</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/isRegExp.js \"Source\")\n\nReturns `true` if the input *value* is a RegExp instance, `false` otherwise.\n\n<a name=\"isString\" href=\"#isString\">#</a>\nvega.<b>isString</b>(<i>value</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/isString.js \"Source\")\n\nReturns `true` if the input *value* is a String instance, `false` otherwise.\n\n### Type Coercion\n\nFunctions for coercing values to a desired type.\n\n<a name=\"toBoolean\" href=\"#toBoolean\">#</a>\nvega.<b>toBoolean</b>(<i>value</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/toBoolean.js \"Source\")\n\nCoerces the input _value_ to a boolean. The strings `\"true\"` and `\"1\"` map to `true`; the strings `\"false\"` and `\"0\"` map to `false`. Null values and empty strings are mapped to `null`.\n\n<a name=\"toDate\" href=\"#toDate\">#</a>\nvega.<b>toDate</b>(<i>value</i>[, <i>parser</i>])\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/toDate.js \"Source\")\n\nCoerces the input _value_ to a Date timestamp. Null values and empty strings are mapped to `null`. Date objects are passed through unchanged. If an optional _parser_ function is provided, it is used to perform date parsing. By default, numbers (timestamps) are passed through unchanged and otherwise `Date.parse` is used. Be aware that `Date.parse` has different implementations across browsers!\n\n<a name=\"toNumber\" href=\"#toNumber\">#</a>\nvega.<b>toNumber</b>(<i>value</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/toNumber.js \"Source\")\n\nCoerces the input _value_ to a number. Null values and empty strings are mapped to `null`.\n\n<a name=\"toString\" href=\"#toString\">#</a>\nvega.<b>toString</b>(<i>value</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/toString.js \"Source\")\n\nCoerces the input _value_ to a string. Null values and empty strings are mapped to `null`.\n\n### Objects\n\nFunctions for manipulating JavaScript Object values.\n\n<a name=\"extend\" href=\"#extend\">#</a>\nvega.<b>extend</b>(<i>target</i>[, <i>source1</i>, <i>source2</i>, …])\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/extend.js \"Source\")\n\nExtends a *target* object by copying (in order) all enumerable properties of the input *source* objects.\n\n<a name=\"inherits\" href=\"#inherits\">#</a>\nvega.<b>inherits</b>(<i>child</i>, <i>parent</i>[, <i>members</i>])\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/inherits.js \"Source\")\n\nA convenience method for setting up object-oriented inheritance. Assigns the `prototype` property of the input *child* function, such that the *child* inherits the properties of the *parent* function's prototype via prototypal inheritance. The optional *members* argument is an object containing methods or properties to add to the new child prototype. Returns the new child prototype object.\n\n<a name=\"lruCache\" href=\"#lruCache\">#</a>\nvega.<b>lruCache</b>([<i>maxsize</i>])\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/lruCache.js \"Source\")\n\nProvides a key/value cache, keyed by string, that evicts least recently used (LRU) entries. Supports *has*, *get*, *set*, and *clear* methods. The optional *maxsize* argument (default 10,000) determines the maximum number of elements that can be added before items are evicted.\n\nIn the internal implementation two caches are used: a current cache and a previous cache. When then current cache fills, it becomes the previous cache and a new, empty current cache is created. Subsequent *get* calls will promote elements in the previous cache to the current cache. Once the current cache fills, the caches are again turned over and all LRU items still residing in the previous cache are dropped.\n\n```js\nvar cache = vega.lruCache(1); // use 1-element cache to demonstrate\ncache.set('a', 1); // current cache has a->1\ncache.set('b', 2); // current cache has b->2, previous cache has a->1\ncache.get('a');    // -> 1 (a now in current cache, b in previous cache)\ncache.set('c', 3); // current cache has c->3, previous cache has a->1\ncache.has('c');    // -> true  (c is in the current cache)\ncache.has('b');    // -> false (b has been evicted)\ncache.has('a');    // -> true  (a is in the previous cache)\ncache.get('c');    // -> 3\ncache.clear();\n```\n\n<a name=\"fastmap\" href=\"#fastmap\">#</a>\nvega.<b>fastmap</b>([<i>object</i>])\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/fastmap.js \"Source\")\n\nProvides a key/value map data structure, keyed by string. Supports a subset of the [ES6 Map](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map) API, including *has*, *get*, *set*, *delete* and *clear* methods and a *size* property. If the optional *object* argument is provided, all key/values on the input object will be added to the new map instance.\n\n```js\nvar map = vega.fastmap({foo:1, bar:2});\nmap.has('foo'); // -> true\nmap.get('foo'); // -> 1\nmap.delete('bar');\nmap.has('bar'); // -> false\nmap.set('baz', 0);\nmap.get('baz'); // -> 0\nmap.size; // -> 2\nmap.empty; // -> 1 (number of empty entries)\nmap.clean(); // invoke garbage collection, clears empty entries\n```\n\nBy using basic JavaScript objects to hash values and avoiding calls to the built-in JavaScript `delete` operator, fastmaps provide good performance. However, this speed comes at the cost of some object bloat, requiring periodic garbage collection in the case of many deletions. The fastmap object provides a *clean* method for requesting garbage collection of empty map entries. The *test* method is a getter/setter for providing an optional boolean-valued function that indicates additional objects (not just empty entries from deleted keys) that should be removed during garbage collection.\n\n<a name=\"hasOwnProperty\" href=\"#hasOwnProperty\">#</a>\nvega.<b>hasOwnProperty</b>(<i>object</i>, <i>property</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/hasOwnProperty.js \"Source\")\n\nReturns `true` if the input *object* has a named *property* defined on it, otherwise `false`. This method concerns the input object only, ignoring properties defined up the prototype chain. The method is equivalent to [`Object.hasOwnProperty`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty), but improves security by guarding against overridden Object prototype built-ins.\n\n<a name=\"mergeConfig\" href=\"#mergeConfig\">#</a>\nvega.<b>mergeConfig</b>(<i>...config</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/mergeConfig.js \"Source\")\n\nMerges a collection of Vega configuration objects into a single combined object. Configuration objects with higher index positions in the arguments list have higher precedence, and so may override settings provided by earlier objects.\n\n<a name=\"writeConfig\" href=\"#writeConfig\">#</a>\nvega.<b>writeConfig</b>(<i>config</i>, <i>key</i>, <i>value</i>[, <i>recurse</i>])\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/mergeConfig.js \"Source\")\n\nWrites a value to a Vega configuration object. Given a *config* object and a configuration property *key* and *value*, appropriately assign the value to the config object. The *recurse* parameter controls if recursive merging (as opposed to overwriting) is performed: if `false` or undefined, no recursion is performed; if `true` one level of recursive merge is performed; if *recurse* is object-valued, one level of recursive merge is performed for keys that the *recurse* object maps to a truthy value. This method is a helper method used within *mergeConfig*.\n\n### Arrays\n\nFunctions for manipulating JavaScript Array values.\n\n<a name=\"array\" href=\"#array\">#</a>\nvega.<b>array</b>(<i>value</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/array.js \"Source\")\n\nEnsures that the input *value* is an Array instance. If so, the *value* is simply returned. If not, the *value* is wrapped within a new single-element an array, returning `[value]`.\n\n<a name=\"clampRange\" href=\"#clampRange\">#</a>\nvega.<b>clampRange</b>(<i>range</i>, <i>min</i>, <i>max</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/clampRange.js \"Source\")\n\nSpan-preserving range clamp. If the span of the input *range* is less than (*max* - *min*) and an endpoint exceeds either the *min* or *max* value, the range is translated such that the span is preserved and one endpoint touches the boundary of the min/max range. If the span exceeds (*max* - *min*), returns the range `[min, max]`.\n\n<a name=\"extent\" href=\"#extent\">#</a>\nvega.<b>extent</b>(<i>array</i>[, <i>accessor</i>])\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/extent.js \"Source\")\n\nReturns an array with the minimum and maximum values in the input *array*, in the form `[min, max]`. Ignores null, undefined, and NaN values. The optional *accessor* argument provides a function that is first applied to each array value prior to comparison.\n\n<a name=\"extentIndex\" href=\"#extentIndex\">#</a>\nvega.<b>extentIndex</b>(<i>array</i>[, <i>accessor</i>])\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/extentIndex.js \"Source\")\n\nReturns the array indices for the minimum and maximum values in the input *array* (as a `[minIndex, maxIndex]` array), according to natural ordering. The optional *accessor* argument provides a function that is first applied to each array value prior to comparison.\n\n```js\nvega.extentIndex([1,5,3,0,4,2]); // [3, 1]\nvega.extentIndex([\n  {a: 3, b:2},\n  {a: 2, b:1},\n  {a: 1, b:3}\n], vega.field('b')); // [1, 2]\n```\n\n<a name=\"flush\" href=\"#flush\">#</a>\nvega.<b>flush</b>(<i>range</i>, <i>value</i>, <i>threshold</i>, <i>left</i>, <i>right</i>, <i>center</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/inrange.js \"Source\")\n\nSelects among potential return values if the provided *value* is flush with the input numeric *range*. Returns *left* if *value is within the *threshold* distance of the minimum element of the *range*. Returns *right* if *value is within the *threshold* distance of the maximum element of the *range*. Otherwise, returns *center*.\n\n<a name=\"inrange\" href=\"#inrange\">#</a>\nvega.<b>inrange</b>(<i>value</i>, <i>range</i>[, <i>left</i>, <i>right</i>])\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/inrange.js \"Source\")\n\nReturns `true` if the input *value* lies within the span of the given *range* array. The *left* and *right* boolean flags control the use of inclusive (true) or exclusive (false) comparisons; if unspecified, inclusive tests are used.\n\n<a name=\"lerp\" href=\"#lerp\">#</a>\nvega.<b>lerp</b>(<i>array</i>, <i>fraction</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/lerp.js \"Source\")\n\nReturns the linearly interpolated value between the first and last entries in the *array* for the provided interpolation *fraction* (typically between 0 and 1). For example, *lerp([0, 50], 0.5)* returns 25.\n\n<a name=\"merge\" href=\"#merge\">#</a>\nvega.<b>merge</b>(<i>compare</i>, <i>array1</i>, <i>array2</i>[, <i>output</i>])\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/merge.js \"Source\")\n\nMerge two sorted arrays into a single sorted array. The input *compare* function is a comparator for sorting elements and should correspond to the pre-sorted orders of the *array1* and *array2* source arrays. The merged array contents are written to the *output* array, if provided. If *output* is not specified, a new array is generated and returned.\n\n<a name=\"panLinear\" href=\"#panLinear\">#</a>\nvega.<b>panLinear</b>(<i>domain</i>, <i>delta</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/transform.js \"Source\")\n\nGiven an input numeric _domain_ (sorted in increasing order), returns a new domain array that translates the domain by a _delta_ using a linear transform. The _delta_ value is expressed as a fraction of the current domain span, and may be positive or negative to indicate the translation direction. The return value is a two-element array indicating the starting and ending value of the translated (panned) domain.\n\n<a name=\"panLog\" href=\"#panLog\">#</a>\nvega.<b>panLog</b>(<i>domain</i>, <i>delta</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/transform.js \"Source\")\n\nGiven an input numeric _domain_ (sorted in increasing order), returns a new domain array that translates the domain by a _delta_ using a logarithmic transform. The _delta_ value is expressed as a fraction of the current domain span, and may be positive or negative to indicate the translation direction. The return value is a two-element array indicating the starting and ending value of the translated (panned) domain.\n\n<a name=\"panPow\" href=\"#panPow\">#</a>\nvega.<b>panPow</b>(<i>domain</i>, <i>delta</i>, <i>exponent</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/transform.js \"Source\")\n\nGiven an input numeric _domain_ (sorted in increasing order), returns a new domain array that translates the domain by a _delta_ using a power scale transform parameterized by the provided _exponent_. The _delta_ value is expressed as a fraction of the current domain span, and may be positive or negative to indicate the translation direction. The return value is a two-element array indicating the starting and ending value of the translated (panned) domain.\n\n<a name=\"panSymlog\" href=\"#panSymlog\">#</a>\nvega.<b>panSymlog</b>(<i>domain</i>, <i>delta</i>, <i>constant</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/transform.js \"Source\")\n\nGiven an input numeric _domain_ (sorted in increasing order), returns a new domain array that translates the domain by a _delta_ using a symlog (symmetric log) scale transform parameterized by the provided _constant_. The _delta_ value is expressed as a fraction of the current domain span, and may be positive or negative to indicate the translation direction. The return value is a two-element array indicating the starting and ending value of the translated (panned) domain.\n\n<a name=\"peek\" href=\"#peek\">#</a>\nvega.<b>peek</b>(<i>array</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/peek.js \"Source\")\n\nReturns the last element in the input *array*. Similar to the built-in `Array.pop` method, except that it does not remove the last element. This method is a convenient shorthand for `array[array.length - 1]`.\n\n<a name=\"span\" href=\"#span\">#</a>\nvega.<b>span</b>(<i>array</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/span.js \"Source\")\n\nReturns the numerical span of the input *array*: the difference between the last and first values.\n\n<a name=\"toSet\" href=\"#toSet\">#</a>\nvega.<b>toSet</b>(<i>array</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/toSet.js \"Source\")\n\nGiven an input *array* of values, returns a new Object instance whose property keys are the values in *array*, each assigned a property value of `1`. Each value in *array* is coerced to a String value and so should map to a reasonable string key value.\n\n```js\nvega.toSet([1, 2, 3]); // {'1':1, '2':1, '3':1}\n```\n\n<a name=\"visitArray\" href=\"#visitArray\">#</a>\nvega.<b>visitArray</b>(<i>array</i>, [<i>filter</i>,] <i>visitor</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/visitArray.js \"Source\")\n\nVists the values in an input *array*, invoking the *visitor* function for each array value that passes an optional *filter*. If specified, the *filter* function is called with each individual array value. If the *filter* function return value is truthy, the returned value is then passed as input to the *visitor* function. Thus, the *filter* not only performs filtering, it can serve as a value transformer. If the *filter* function is not specified, all values in the *array* are passed to the *visitor* function. Similar to the built-in `Array.forEach` method, the *visitor* function is invoked with three arguments: the value to visit, the current index into the source *array*, and a reference to the soure *array*.\n\n```js\n// console output: 1 0; 3 2\nvega.visitArray([0, -1, 2],\n  function(x) { return x + 1; },\n  function(v, i, array) { console.log(v, i); });\n```\n\n<a name=\"zoomLinear\" href=\"#zoomLinear\">#</a>\nvega.<b>zoomLinear</b>(<i>domain</i>, <i>anchor</i>, <i>scale</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/transform.js \"Source\")\n\nGiven an input numeric _domain_ (sorted in increasing order), returns a new domain array that scales (zooms) the domain by a _scale_ factor using a linear transform, centered on the given _anchor_ value. If _anchor_ is `null`, the midpoint of the domain is used instead. The return value is a two-element array indicating the starting and ending value of the scaled (zoomed) domain.\n\n<a name=\"zoomLog\" href=\"#zoomLog\">#</a>\nvega.<b>zoomLog</b>(<i>domain</i>, <i>anchor</i>, <i>scale</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/transform.js \"Source\")\n\nGiven an input numeric _domain_ (sorted in increasing order), returns a new domain array that scales (zooms) the domain by a _scale_ factor using a logarithmic transform, centered on the given _anchor_ value. If _anchor_ is `null`, the midpoint of the domain is used instead. The return value is a two-element array indicating the starting and ending value of the scaled (zoomed) domain.\n\n<a name=\"zoomPow\" href=\"#zoomPow\">#</a>\nvega.<b>zoomPow</b>(<i>domain</i>, <i>anchor</i>, <i>scale</i>, <i>exponent</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/transform.js \"Source\")\n\nGiven an input numeric _domain_ (sorted in increasing order), returns a new domain array that scales (zooms) the domain by a _scale_ factor using a power scale transform parameterized by the provided _exponent_, centered on the given _anchor_ value. If _anchor_ is `null`, the midpoint of the domain is used instead. The return value is a two-element array indicating the starting and ending value of the scaled (zoomed) domain.\n\n<a name=\"zoomSymlog\" href=\"#zoomSymlog\">#</a>\nvega.<b>zoomSymlog</b>(<i>domain</i>, <i>anchor</i>, <i>scale</i>, <i>constant</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/transform.js \"Source\")\n\nGiven an input numeric _domain_ (sorted in increasing order), returns a new domain array that scales (zooms) the domain by a _scale_ factor using a symlog (symmetric log) scale transform parameterized by the provided _constant_, centered on the given _anchor_ value. If _anchor_ is `null`, the midpoint of the domain is used instead. The return value is a two-element array indicating the starting and ending value of the scaled (zoomed) domain.\n\n### Dates\n\nFunctions for manipulating JavaScript Date values.\n\n<a name=\"quarter\" href=\"#quarter\">#</a>\nvega.<b>quarter</b>(<i>date</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/quarter.js \"Source\")\n\nReturns the quarter of the year (an integer between 1 and 4) for an input *date* object or timestamp for the local timezone.\n\n<a name=\"utcquarter\" href=\"#utcquarter\">#</a>\nvega.<b>utcquarter</b>(<i>date</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/quarter.js \"Source\")\n\nReturns the quarter of the year (an integer between 1 and 4) for an input *date* object or timestamp for Coordinated Universal Time (UTC).\n\n\n### Strings\n\nFunctions for generating and manipulating JavaScript String values.\n\n<a name=\"pad\" href=\"#pad\">#</a>\nvega.<b>pad</b>(<i>string</i>, <i>length</i>[, <i>character</i>, <i>align</i>])\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/pad.js \"Source\")\n\nPads a *string* value with repeated instances of a *character* up to a specified *length*. If *character* is not specified, a space (`' '`) is used. By default, padding is added to the end of a string. An optional *align* parameter specifies if padding should be added to the `'left'` (beginning), `'center'`, or `'right'` (end) of the input string.\n\n```js\nvega.pad('15', 5, '0', 'left'); // '00015'\n```\n\n<a name=\"repeat\" href=\"#repeat\">#</a>\nvega.<b>repeat</b>(<i>string</i>, <i>count</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/repeat.js \"Source\")\n\nGiven an input *string*, returns a new string that repeats the input *count* times.\n\n```js\nvega.repeat('0', 5); // '00000'\n```\n\n<a name=\"splitAccessPath\" href=\"#splitAccessPath\">#</a>\nvega.<b>splitAccessPath</b>(<i>path</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/splitAccessPath.js \"Source\")\n\nSplits an input string representing an access *path* for JavaScript object properties into an array of constituent path elements.\n\n```js\nvega.splitAccessPath('foo'); // ['foo']\nvega.splitAccessPath('foo.bar'); // ['foo', 'bar']\nvega.splitAccessPath('foo[\"bar\"]'); // ['foo', 'bar']\nvega.splitAccessPath('foo[0].bar'); // ['foo', '0', 'bar']\n```\n\n<a name=\"stringValue\" href=\"#stringValue\">#</a>\nvega.<b>stringValue</b>(<i>value</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/stringValue.js \"Source\")\n\nReturns an output representation of an input value that is both JSON and JavaScript compliant. For Object and String values, `JSON.stringify` is used to generate the output string. Primitive types such as Number or Boolean are returned as-is. This method can be used to generate values that can then be included in runtime-compiled code snippets (for example, via the Function constructor).\n\n<a name=\"truncate\" href=\"#truncate\">#</a>\nvega.<b>truncate</b>(<i>string</i>, <i>length</i>[, <i>align</i>, <i>ellipsis</i>])\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/truncate.js \"Source\")\n\nTruncates an input *string* to a target *length*. The optional *align* argument indicates what part of the string should be truncated: `'left'` (the beginning), `'center'`, or `'right'` (the end). By default, the `'right'` end of the string is truncated. The optional *ellipsis* argument indicates the string to use to indicate truncated content; by default the ellipsis character (`…`, same as `\\u2026`) is used.\n\n\n### Logging\n\n<a name=\"logger\" href=\"#logger\">#</a>\nvega.<b>logger</b>([<i>level</i>, <i>method</i>])\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/logger.js \"Source\")\n\nGenerates a new logger instance for selectively writing log messages to the JavaScript console. The optional *level* argument indicates the initial log level to use (one of [None](#none), [Warn](#warn), [Info](#info), or [Debug](#debug)), and defaults to [None](#none) if not specified.\n\nThe generated logger instance provides the following methods:\n\n- <b>level</b>(<i>value</i>): Sets the current logging level. Only messages with a log level less than or equal to *value* will be written to the console.\n- <b>error</b>(<i>message1</i>[, <i>message2</i>, …]): Logs an error message. The messages will be written to the console using the `console.error` method if the current log level is [Error](#error) or higher.\n- <b>warn</b>(<i>message1</i>[, <i>message2</i>, …]): Logs a warning message. The messages will be written to the console using the `console.warn` method if the current log level is [Warn](#warn) or higher.\n- <b>info</b>(<i>message1</i>[, <i>message2</i>, …]): Logs an informative message. The messages will be written to the console using the `console.log` method if the current log level is [Info](#info) or higher.\n- <b>debug</b>(<i>message1</i>[, <i>message2</i>, …]): Logs a debugging message. The messages will be written to the console using the `console.log` method if the current log level is [Debug](#debug) or higher.\n\nTo override the choice of console method invoked (`console.log`, `console.warn`, or `console.error`), use the optional *method* argument (one of `\"log\"`, `\"warn\"`, or `\"error\"`) to route all log messages through the same method.\n\n<a name=\"None\" href=\"#None\">#</a>\nvega.<b>None</b>\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/logger.js \"Source\")\n\nConstant value indicating a log level of 'None'. If set as the log level of a [logger](#logger) instance, all log messages will be suppressed.\n\n<a name=\"Error\" href=\"#Error\">#</a>\nvega.<b>Error</b>\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/logger.js \"Source\")\n\nConstant value indicating a log level of 'Error'. If set as the log level of a [logger](#logger) instance, only error messages will be presented.\n\n<a name=\"Warn\" href=\"#Warn\">#</a>\nvega.<b>Warn</b>\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/logger.js \"Source\")\n\nConstant value indicating a log level of 'Warn'. If set as the log level of a [logger](#logger) instance, both error and warning messages will be presented.\n\n<a name=\"Info\" href=\"#Info\">#</a>\nvega.<b>Info</b>\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/logger.js \"Source\")\n\nConstant value indicating a log level of 'Info'. If set as the log level of a [logger](#logger) instance, error, warning and info messages will be presented.\n\n<a name=\"Debug\" href=\"#Debug\">#</a>\nvega.<b>Debug</b>\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/logger.js \"Source\")\n\nConstant value indicating a log level of 'Debug'. If set as the log level of a [logger](#logger) instance, all log messages (error, warning, info and debug) will be presented.\n\n\n### Errors\n\n<a name=\"error\" href=\"#error\">#</a>\nvega.<b>error</b>(<i>message</i>)\n[<>](https://github.com/vega/vega/blob/master/packages/vega-util/src/error.js \"Source\")\n\nThrows a new error with the provided error *message*. This is a convenience method adding a layer of indirection for error handling, for example allowing error conditions to be included in expression chains.\n\n```js\nvega.error('Uh oh'); // equivalent to: throw Error('Uh oh')\n\n// embed error in an expression\nreturn isOk ? returnValue : vega.error('Not OK');\n```\n",
    "licenseText": "Copyright (c) 2015-2018, University of Washington Interactive Data Lab\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n1. Redistributions of source code must retain the above copyright notice, this\n   list of conditions and the following disclaimer.\n\n2. Redistributions in binary form must reproduce the above copyright notice,\n   this list of conditions and the following disclaimer in the documentation\n   and/or other materials provided with the distribution.\n\n3. Neither the name of the copyright holder nor the names of its contributors\n  may be used to endorse or promote products derived from this software\n  without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\nAND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE\nFOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\nDAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\nSERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\nCAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\nOR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n"
  },
  "artifacts": [],
  "remote": {
    "resolved": "https://registry.yarnpkg.com/vega-util/-/vega-util-1.15.0.tgz#8098212a8fbb2a3fc0936e14083ef76d01b5f401",
    "type": "tarball",
    "reference": "https://registry.yarnpkg.com/vega-util/-/vega-util-1.15.0.tgz",
    "hash": "8098212a8fbb2a3fc0936e14083ef76d01b5f401",
    "integrity": "sha512-D5jlSI226ieWjCZH9K/0zIxygl0w4W6Fqky+zwwQzymoGwraBPDEhrGh0Uq2sl0Jw6hbD8FlMqiPmlsSkpQ1pw==",
    "registry": "npm",
    "packageName": "vega-util",
    "cacheIntegrity": "sha512-D5jlSI226ieWjCZH9K/0zIxygl0w4W6Fqky+zwwQzymoGwraBPDEhrGh0Uq2sl0Jw6hbD8FlMqiPmlsSkpQ1pw== sha1-gJghKo+7Kj/Ak24UCD73bQG19AE="
  },
  "registry": "npm",
  "hash": "8098212a8fbb2a3fc0936e14083ef76d01b5f401"
}